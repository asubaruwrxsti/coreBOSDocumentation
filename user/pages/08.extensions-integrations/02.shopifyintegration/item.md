---
title: 'Shopify Integration'
metadata:
    description: 'Shopify Integration'
    author: 'Eleni Kullira'
content:
    items:
        - '@self.children'
    limit: 5
    order:
        by: date
        dir: desc
    pagination: true
    url_taxonomy_filters: true
taxonomy:
    category:
        - adminmanual
    tag:
        - howto
        - shopify
---

Learn how to configure coreBOS and Shopify to work together.

===

![Shopify](shopify.jpg?classes=minsize) 
<br>

## WEB-SERVICE MAPPING DOCUMENTATION

## GET/POST information from coreBOS to Shopify and from Shopify to coreBOS

**GET/POST information (products,accounts,orders)from coreBOS to Shopify and from Shopify to coreBOS**

This document explains how to successfully call the Shopify API with coreBOS in order to get or post information.
The first thing you need before receiving or submitting information to Shopify is the URL of Shopify from the client and the access token.

The access token can be generated by following the steps [in this link](https://help.plytix.com/en/getting-api-credentials-from-your-shopify-store#enable_private_app)

To get information from Shopify, you will need the specific id of the account or product stored in Shopify for example: if you want to get an account from Shopify into coreBOS  you need to have an account id and then you can get the data of that account.

[Identification of the Endpoint](https://shopify.dev/api/admin-rest#endpoints)
Admin REST API endpoints are organized by resource type. You’ll need to use different endpoints depending on your app’s requirements.

[Version API Shopify](https://shopify.dev/api/usage/versioning) releases a new API version every 3 months at the beginning of the quarter. Version names are date-based to be meaningful and semantically unambiguous

<div class="alpha right"></div>

|Endpoint: | All Admin REST API endpoints follow this pattern:
https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|
|--- | :---: |
|Access Token: | The access token can be generated by following the steps [in this link](https://help.plytix.com/en/getting-api-credentials-from-your-shopify-store#enable_private_app)|

<br><br>
## Webservice mapping

### [Get Products](https://shopify.dev/api/admin-rest/2022-07/resources/product#get-products-product-id) from Shopify to coreBOS

The Product resource lets you update and create products in a  store. Every product has a unique ID. Each id is unique across the Shopify system. No two products will have the same id. To retrieve a product from Shopify you need to store this id in a field and use it whenever you want. Besides the ID you also need the access token to generate the products.

<div class="alpha right"></div>

|Purpose: | Retrieve a product from Shopify to coreBOS|
|--- | : ---|
|WS Name: | Get products|
|Type: | Get|
|Target Module: | Products|
|Parameters: | Header: X-Shopify-Access-Token : {access_token} <br> Content-Type : application/json <br> Body:To retrieve the product from Shopify you need the id of the product. This id is stored in a corebos field. To use it you need to copy the value of the field in the variable in the URL. <br> Response:You need to map the response fields,that you want to update from Shopify, with the relevant fields of your coreBOS1).|
|URL Format | https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|
<br><br>

#### Example 
<br>

```
 Access Token : your_super_secret_key 
 Format : https://yourshop.myshopify.com/admin/api/2022-04/products/$prod_id
 The value of the variable prod_id is taken with the following code
 <fieldname>prod_id</fieldname>
 <Orgfields><Orgfield>
 <OrgfieldName>concat(shopifyprodid,'.json')</OrgfieldName>
 <OrgfieldID>expression</OrgfieldID>
```

#### **_Response_ example:**
<br>
<div class="alpha right"></div>

|Shopify Field | coreBOS Field | Description | Mandatory | Type of field | Example|
|:-----: | :------: | :------: | :------: | :------: | :-------:|
|product.title | productname | Product Name | Yes | varchar | Rosé Charmat|
|product.body_html | description | A short description of the product | No | varchar | Vino rosato spumante - CLIENTI DIRETTI|
|product.product_type | productcategory | The product category | No | varchar | Spumanti|

<br><br>
### [Get Customers](https://shopify.dev/api/admin-rest/2022-07/resources/customer#get-customers-customer-id) from Shopify to coreBOS

The Customer resource lets you update and create customers in a  store. Every customer has a unique ID. Each id is unique across the Shopify system. No two customers will have the same id. To retrieve a customer from Shopify you need to store this id in a field and use it whenever you want. Besides the ID you also need the access token to generate the customers.

<div class="alpha right"></div>

|Purpose: | Retrieve a customer from Shopify to coreBOS|
|--- | :---|
|WS Name: | Get customer|
|Type: | Get|
|Target Module: | Organizations|
|Parameters: | Header: X-Shopify-Access-Token : {access_token} <br> Content-Type : application/json <br> Body:To retrieve the customers from Shopify you need the id of the customer. This id is stored in a corebos field. To use it you need to copy the value of the field in the variable in the URL.<br> Response:You need to map the response fields,that you want to update from Shopify, with the relevant fields of your coreBOS1).|
|URL Format | https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|

<br><br>
#### Example 

```
Example Access Token : your_super_secret_key 
Format : https://yourshop.myshopify.com/admin/api/2022-04/customers/$clientid
The value of the variable clientid is taken with the following code
<fieldname>clientid</fieldname>
<Orgfields><Orgfield>
<OrgfieldName>concat(client_id,'.json')</OrgfieldName>
<OrgfieldID>expression</OrgfieldID>
```

#### **_Response_ example:**
<br>
<div class="alpha right"></div>
|Shopify Field | coreBOS Field | Description | Mandatory | Type of field | Example|
|:---: | :---: | :---: | :---: | :---: | :---:|
|customer.email | email1 | Customer Emai | Yes | varchar | Rosé Charmatt|
|customer.last_name | accountname | Account Name | No | varchar | Vino rosato spumante - CLIENTI DIRETTI|
|customer.phone | phone | Customer Phone | No | varchar | Spumanti|
|customer.addresses.0.address1 | ship_street | The customer address | No | varchar | Via Regina  33|
|customer.addresses.0.city | ship_city |  The customer address | No | varchar| Porto Picena|
|customer.addresses.0.province | ship_state|  The customer address | No | varchar | MC|
|customer.addresses.0.country | ship_country|  The customer address | No | varchar | Australia|
|customer.addresses.0.zip | ship_code |  The customer address | No | varchar| 6558|
<br><br>

### [Get Orders](https://shopify.dev/api/admin-rest/2022-07/resources/order#get-orders-order-id)

The Orders resource lets you update and create orders in a  store. Every order has a unique ID. Each id is unique across the Shopify system. No two orders will have the same id. To retrieve an order from Shopify you need to store this id in a field and use it whenever you want. Besides the ID you also need the access token to generate the products. 
This webservice will be a little different from the others due to the fact that we have related modules and information that will be stored in both modules. To do this, a workflow must be created which will perform an upsert to the related module. The upsert_data variable is used to store the ws response with the corresponding field.

**Example of the wf:** 

![workflow](wf.png?classes=maxsize) 
<br>

**The upsert task:** 

![upsert](upserttask.png?classes=maxsize)

<div class="alpha right"></div>
|Purpose: | Retrieve an order from Shopify to coreBOS|
|--- | :---|
|WS Name: | Get order|
|Type: | Get|
|Target Module: | Organizations|
|Parameters: | Header: X-Shopify-Access-Token : {access_token} <br> Content-Type : application/json <br> Body:To retrieve the order from Shopify you need the id of the order. This id is stored in a corebos field. To use it you need to copy the value of the field in the variable in the URL.<br> Response:You need to map the response fields,that you want to update from Shopify, with the relevant fields of your coreBOS1).|
|URL Format | https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|


<br><br>
#### Example 

```
Access Token : your_super_secret_key
URL Format : https://yourshop.myshopify.com/admin/api/2022-04/orders/$order_id 
The value of the variable clientid is taken with the following code
<fieldname>order_id</fieldname>
<Orgfields>
<Orgfield>
<OrgfieldName>concat(shopifyordid,'.json')</OrgfieldName>
<OrgfieldID>expression</OrgfieldID>
```
#### **_Response_ example:**
<br>
<div class="alpha right"></div>
|Shopify Field | coreBOS Field | Description | Mandatory | Type of field|
|:---:| :---: | :---: | :---: | :---:|
|order.id | getorederresponse | Order ID | No | varchar|
|order.line_items | upsert_data | A variable that store the ws response field | Yes | varchar|
<br><br>

### [Send Products](https://shopify.dev/api/admin-rest/2022-07/resources/product#post-products) to Shopify 
<br>
Unlike the Get method, the Post method has a different format. It has the same header structure, with the content-type and access token, but it also has a body structure. To send a product from coreBOS to Shopify you must map the fields you want to send from coreBOS to the fields that are in Shopify. Be careful with mandatory fields!
<br>
<div class="alpha right"></div>
|Purpose: | Send products information from coreBOS to Shopify, Create a new product|
|--- | ---|
|WS Name: | Post products|
|Type: | Post|
|Target Module: | Products|
|Parameters: | Header: X-Shopify-Access-Token : {access_token} <br> Content-Type : application/json <br> Body:The product information that you want to send eg:<br> {   "product":{   <br>   "title":"Burton Custom Freestyle 151",   <br>   "body_html":"Good snowboard!",  <br>    "vendor":"Burton",    <br>  "product_type":"Snowboard"   }}|
|URL Format | https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|
<br><br>

### [Send Customers](https://shopify.dev/api/admin-rest/2022-07/resources/customer#post-customers) to Shopify 

To send a customer from coreBOS to Shopify you must map the fields you want to send from coreBOS to the fields that are in Shopify. Be careful with mandatory fields! 

<div class="alpha right"></div>
|Purpose: | Send customers information from coreBOS to Shopify, Create a new customer|
|--- | ---|
|WS Name: | Post customer|
|Type: | Post|
|Target Module: | Organizations|
|Parameters: | Header: X-Shopify-Access-Token : {access_token} <br> Content-Type : application/json<br> Body:The customer information that you want to send eg: <br> {   "customer":{ <br> "first_name":"Steve", <br> "last_name":"Lastnameson",   <br>    "email":"steve.lastnameson@example.com",  <br> "phone":"+15142546011",   <br>   "verified_email":true,<br>"addresses":[ { <br> "address1":"123 Oak St", <br>"city":"Ottawa", <br> "province":"ON",    <br> "phone":"555-1212", <br> "zip":"123 ABC"}]}}|
|URL Format | https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|

<br><br>

### [Send SalesOrder](https://shopify.dev/api/admin-rest/2022-07/resources/order#post-orders) to Shopify 
An order is a customer's request to purchase one or more products from a shop. You can create, retrieve, update, and delete orders using the [Order resource](https://shopify.dev/api/admin-rest/2022-07/resources/order#top). To send an order from coreBOS to Shopify you must map the fields you want to send from coreBOS to the fields that are in Shopify. Be careful with mandatory fields!
 The creation of a new order has a different structure from the others because it is not only fields from SalesOrder that must be sent, but also fields from related modules. Therefore, besides the web service mapping, you will also need another map of the Mapping type to make a relation of the corebos fields that you must send with the shopify fields.
 <br>

Map
- Type: Mapping
- Map name: Workflow_InventoryDetails2ShopifyOrder
- Target module: InventoryDetails

**Fields map:** 

<div class="alpha right"></div>

|Shopify Field | coreBOS Field | Description | Type of field | Example|
|:---: | :---: | :---: | :---: | :---:|
|name | usageunit | Order name | varchar | Rosé Charmatt|
|variant_id | inventorydetails_no | Order ID | varchar | Vino rosato spumante - CLIENTI DIRETTI|
|quantity | quantity | Quantity of products | NN | Spumanti|
|price | listprice | Price | NN | Via Regina 33|
|title | description | A short description | varchar | Porto Picena|
<br>

**WS Mapping:**

<div class="alpha right"></div>

|Purpose: | Send orders information from coreBOS to Shopify, Create a new order|
|--- | ---|
|WS Name: | Post orders|
|Type: | Post|
|Target Module: | SalesOrder, related to InvontoryDetails|
|Parameters: | Header: X-Shopify-Access-Token : {access_token} <br> Content-Type : application/json <br> Body:The order information that you want to send eg: <br> {   "order":{   <br>   "line_items":[ {       <br>     "variant_id":447654528,     <br>       "quantity":1,    <br>        "price":50,       <br>     "name":"Prosecco",      <br>      "title":" Prosecco DOC Treviso extra dry - CLIENTI DIRETTI" }]}}|
|URL Format | https://{store_name}.myshopify.com/admin/api/{versionAPI}/ {resource}.json|

<head>
  <style type="text/css">
    div.alpha + table  { width: 600px; border: 1px solid black }
    div.alpha + table td { border: 1px solid black;border-bottom: 1px solid black; }
    div.alpha + table th { border: 1px solid black;border-bottom: 1px solid black;background-color:#f2f2f2 }
     div.alpha + table tr:nth-child(even) {background: #f2f2f2}
  .maxsize {
  width: 600px ;
 }
 .minsize {
  width: 100px ;
 }
  </style>
</head>
